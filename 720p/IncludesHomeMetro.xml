<includes>

	<include name="HomeMenuMetro">
		<!-- top overlay -->
	<control type="group">
		<include>screen_Dimensions</include>
		<posy>0</posy>
		<posx>0</posx>
		
		<animation effect="slide" start="0,0" end="0,-42" time="150" condition="!ControlGroup(1100).HasFocus">Conditional</animation> 
		
		<control type="group">
			<!-- theme background -->
			<control type="image">
				<include>screen_Dimensions</include>
				<texture fallback="empty" background="true" diffuse="frames/reloaded-diff-top-menu.png">backgrounds/background.png</texture>
				<aspectratio>scale</aspectratio>
			</control>	
			<animation type="WindowOpen" condition="Window.Previous(2999)">
				<effect type="fade" start="0" end="100" time="600" delay="0" />
			</animation>
			<animation type="WindowOpen" condition="!Window.Previous(2999)">
				<effect type="fade" start="0" end="100" time="200" delay="0" />
			</animation>
			<animation type="WindowClose">
				<effect type="fade" start="100" end="0" time="200" delay="0" />
			</animation>
		</control>
		
		<control type="wraplist" id="9000">
			<focusposition>1</focusposition>
			<!--<posy>40</posy>-->
			<posy>-400</posy>
			<posx>0</posx>
			<width>1100</width>
			<height>100</height>
			<onleft>9000</onleft>
			<onright>9000</onright>
			<onup>1100</onup>
			<ondown condition="Skin.HasSetting(home.searchleft)">8004</ondown>
			<ondown condition="!Skin.HasSetting(home.searchleft)">RunAddon(script.globalsearch)</ondown>
			<ondown>SetProperty(HomeShowPlot,)</ondown>
			<ondown>SetProperty(HomeShowPlot,)</ondown>
			<orientation>horizontal</orientation>
			<scrolltime tween="Cubic" easing="Out">400</scrolltime>
			<visible allowhiddenfocus="true">false</visible>	
			<include>transition_HomeMenu</include>
				
			<animation effect="fade" start="50" end="100" time="200" delay="0" >Focus</animation>
			<animation effect="fade" start="100" end="50" time="200" delay="0" >Unfocus</animation>
				
			<itemlayout width="180" height="100">
				<control type="label">
					<posy>0</posy>
					<posx>50</posx>
					<width>180</width>
					<height>50</height>
					<font>light.HMenu</font>
					<align>left</align>
					<label>$INFO[ListItem.Label]</label>
					<textcolor>Color4</textcolor>
				</control>
			</itemlayout>			
			<focusedlayout width="180" height="100">
				<control type="label">
					<posy>0</posy>
					<posx>50</posx>
					<width>180</width>
					<height>50</height>
					<font>light.HMenu</font>
					<align>left</align>
					<textcolor>Color0</textcolor>
					<label>$INFO[ListItem.Label]</label>
				</control>
			</focusedlayout>
	
			<content>
				<include>home_MenuContent</include>			
			</content>
		</control>
		
		<!--time-->
		<control type="group">
			<posy>40</posy>
			<posx>0</posx>
			<control type="group">
				<posy></posy>
				<include>home_Clock</include>
				<include>fadeinout</include>
				<include>toggle_ToastMute</include>
				<visible>!Skin.HasSetting(home.timesmall) + Skin.HasSetting(home.time) + ![Window.IsActive(extendedprogressdialog) | Window.IsActive(infodialog)]</visible>
			</control>	
			<control type="group">
				<include>home_Clock_Small</include>
				<include>fadeinout</include>
				<include>toggle_ToastMute</include>
				<visible>Skin.HasSetting(home.timesmall) + Skin.HasSetting(home.time) + ![Window.IsActive(extendedprogressdialog) | Window.IsActive(infodialog)]</visible>
			</control>
		</control>
		
		
		
		<control type="grouplist" id="19000">
			<posy>52</posy>
			<posx>40</posx>
			<width>1080</width>
			<height>100</height>
			<onleft>9000</onleft>
			<onright>9000</onright>
			<ondown>1100</ondown>
			<onup condition="Skin.HasSetting(home.searchleft)">8004</onup>
			<onup condition="!Skin.HasSetting(home.searchleft)">RunAddon(script.globalsearch)</onup>
			<onup>SetProperty(HomeShowPlot,)</onup>
			<ondown>SetProperty(HomeShowPlot,)</ondown>
			<orientation>horizontal</orientation>
			<scrolltime tween="Cubic" easing="Out">400</scrolltime>
			<visible allowhiddenfocus="true">
				![ControlGroup(4000).HasFocus() | ControlGroup(2100).HasFocus() | 
				Window.IsActive(extendedprogressdialog) | Window.IsActive(infodialog)]
			</visible>	
			<include>transition_HomeMenu</include>
			
			<itemgap>25</itemgap>
        	
        	<!-- TODO add custom items -->
        	
        	<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[tvshows_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(1) | Container(9000).HasFocus(2)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[tvshows_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(1) | Container(9000).HasFocus(2)] +
						 !Skin.HasSetting(homemenu.videos)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>
			
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[movies_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(3) | Container(9000).HasFocus(4)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[movies_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(3) | Container(9000).HasFocus(4)] +
						 Library.HasContent(movies) + !Skin.HasSetting(homemenu.movies)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>
			
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[tvshows_homemenu_tvshows]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(5) | Container(9000).HasFocus(6)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[tvshows_homemenu_tvshows]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(5) | Container(9000).HasFocus(6)] +
						 Library.HasContent(tvshows) + !Skin.HasSetting(homemenu.tvshows)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[livetv_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(7) | Container(9000).HasFocus(8)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[livetv_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(7) | Container(9000).HasFocus(8)] +
						 System.GetBool(pvrmanager.enabled) + !Skin.HasSetting(homemenu.livetv)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[music_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(9) | Container(9000).HasFocus(10)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[music_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(9) | Container(9000).HasFocus(10)] +
						 !Skin.HasSetting(homemenu.music)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[pictures_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(11) | Container(9000).HasFocus(12)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[pictures_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(11) | Container(9000).HasFocus(12)] +
						 !Skin.HasSetting(homemenu.pictures)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[addons_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(13) | Container(9000).HasFocus(14)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[addons_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(13) | Container(9000).HasFocus(14)] +
						 !Skin.HasSetting(homemenu.addons)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[system_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(15) | Container(9000).HasFocus(16)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[system_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(15) | Container(9000).HasFocus(16)]</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[weather_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(17)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[weather_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(17)] +
						 !Skin.HasSetting(homemenu.weather)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[favourites_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(18)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>$VAR[favourites_homemenu]</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(18)] +
						 !Skin.HasSetting(homemenu.favourites)</visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<!-- disc -->
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>427</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(19)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>427</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(19)] + 
					     [System.HasMediadvd + !Skin.HasSetting(homemenu.disc) + !Player.HasAudio +!Player.HasVideo]
					     </visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>

			<!-- playing -->
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>31051</label>
				<font>light.HMenu</font>
				<textcolor>Color0</textcolor>
				<height>50</height>
				<visible>Container(9000).HasFocus(21) | Container(9000).HasFocus(22) | 
					     Container(9000).HasFocus(23)</visible>
			</control>
			<control type="label">
				<width min="29" max="200">auto</width>
				<label>31051</label>
				<font>light.HMenu</font>
				<textcolor>Color4</textcolor>
				<height>50</height>
				<visible>![Container(9000).HasFocus(21) | Container(9000).HasFocus(22) | 
					     Container(9000).HasFocus(23)] +
					     [!Skin.HasSetting(homemenu.playing) + [Player.HasAudio | Player.HasVideo]]
					     </visible>
				<animation effect="fade" start="100" end="40" time="200" delay="0" condition="!Control.HasFocus(9000)">Conditional</animation>

			</control>


		</control>
		
		<include>homeSubMenuHoriz</include>
		
	</control>
	</include>
	
	<!-- every submenu list -->
	<include name="homeSubMenuHorizCommon">
				<width>1280</width>
				<posy>10</posy>
				<posx>40</posx>
				<height>50</height>
				<ondown>9000</ondown>
				<onup>8004</onup>
				<orientation>horizontal</orientation>
				<scrolltime tween="Cubic" easing="Out">400</scrolltime>
				<itemlayout width="150" height="100">
					<control type="label">
						<posy>0</posy>
						<posx>0</posx>
						<width>150</width>
						<height>20</height>
						<align>left</align>
						<label>$INFO[ListItem.Label]</label>
						<font>smallCaps</font>
						<textcolor>Color4</textcolor>
					</control>
				</itemlayout>			
				<focusedlayout width="150" height="100">
					<control type="label">
						<posy>0</posy>
						<posx>0</posx>
						<width>150</width>
						<height>20</height>
						<align>left</align>
						<label>$INFO[ListItem.Label]</label>
						<font>smallCaps</font>
						<textcolor>Color0</textcolor>
					</control>
				</focusedlayout>
				
	</include>
	
	<!-- submenu -->
	<include name="homeSubMenuHoriz">
		<control type="group" id="1100">
			<!-- wrong:
			<animation effect="fade" start="50" end="100" time="200" delay="0" >Focus</animation>
			<animation effect="fade" start="100" end="50" time="200" delay="0" >Unfocus</animation>
			-->
			<animation effect="fade" start="100" end="50" time="200" condition="!ControlGroup(1100).HasFocus">Conditional</animation> 
			<include>transition_HomeMenu</include>
				
			<!-- submenu content for video -->
			<control type="list" id="1101">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1101</onleft>
				<onright>1101</onright>
				<include>homeSubVideo</include>
				<visible>Container(9000).HasFocus(1) | Container(9000).HasFocus(2)</visible>
			</control>
			
			<!-- submenu content for movies -->
			<control type="list" id="1103">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1103</onleft>
				<onright>1103</onright>
				<include>homeSubMovies</include>
				<visible>Container(9000).HasFocus(3) | Container(9000).HasFocus(4)</visible>
			</control>
			
			<control type="list" id="1105">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1105</onleft>
				<onright>1105</onright>
				<include>homeSubTV</include>
				<visible>Container(9000).HasFocus(5) | Container(9000).HasFocus(6)</visible>
			</control>
			
			<control type="list" id="1107">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1107</onleft>
				<onright>1107</onright>
				<include>homeSubLiveTV</include>
				<visible>Container(9000).HasFocus(7) | Container(9000).HasFocus(8)</visible>
			</control>
			
			<control type="list" id="1109">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1109</onleft>
				<onright>1109</onright>
				<include>homeSubMusic</include>
				<visible>Container(9000).HasFocus(9) | Container(9000).HasFocus(10)</visible>
			</control>
			
			<control type="list" id="1111">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1111</onleft>
				<onright>1111</onright>
				<include>homeSubPictures</include>
				<visible>Container(9000).HasFocus(11) | Container(9000).HasFocus(12)</visible>
			</control>
			
			<control type="list" id="1113">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1113</onleft>
				<onright>1113</onright>
				<include>homeSubAddons</include>
				<visible>Container(9000).HasFocus(13) | Container(9000).HasFocus(14)</visible>
			</control>
			
			<control type="list" id="1115">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1115</onleft>
				<onright>1115</onright>
				<include>homeSubSystem</include>
				<visible>Container(9000).HasFocus(15) | Container(9000).HasFocus(16)</visible>
			</control>
			
			<control type="list" id="1119">
				<include>homeSubMenuHorizCommon</include>
				<onleft>1119</onleft>
				<onright>1119</onright>
				<include>homeSubDisc</include>
				<visible>Container(9000).HasFocus(19) | Container(9000).HasFocus(21)</visible>
			</control>
			
			<!-- WEATHER LABEL -->
			<control type="label">
				<posy>01</posy>
				<posx>20</posx>
				<width>800</width>
				<height>20</height>
				<font>smallCaps</font>
				<align>left</align>
				<textcolor>Color0</textcolor>
				<label>$INFO[Weather.Temperature]$INFO[Window(Weather).Property(Location), in ,]</label>
				<visible>Container(9000).HasFocus(17) + Weather.IsFetched</visible>
				<animation effect="fade" tween="Quadratic" easing="Out" start="0" end="100" time="200" condition="Container(9000).HasFocus(17) + Weather.IsFetched">Conditional</animation>
			</control>
		</control>
	</include>	

</includes>